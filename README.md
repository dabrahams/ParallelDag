# Parallel DAG computation methods

Here are the results from one run of `swift package benchmark --grouping metric`:

```
Instructions
╒════════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                   │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞════════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:ActorBasedTaskCache (K) *                  │    1742 │    2486 │    2644 │    2787 │    2927 │    3150 │    3420 │    2736 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:MutexBasedTaskCache (K) *                  │    1627 │    2136 │    2292 │    2460 │    2607 │    2955 │    3712 │    2805 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:OSAllocatedUnfairLockBasedTaskCache (K) *  │    1317 │    1817 │    1963 │    2120 │    2269 │    2607 │    3206 │    2926 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Operations (K) *                           │    2987 │    3647 │    3942 │    4264 │    4608 │    5272 │    6162 │    1977 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks (K) *                                │    1620 │    2191 │    2382 │    2556 │    2671 │    2886 │    3060 │    2875 │
╘════════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛

Malloc (total)
╒════════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                   │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞════════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:ActorBasedTaskCache *                      │     285 │     635 │     730 │     844 │     981 │    1215 │    1631 │    2736 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:MutexBasedTaskCache *                      │     262 │     605 │     711 │     850 │     999 │    1373 │   19455 │    2805 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:OSAllocatedUnfairLockBasedTaskCache *      │     158 │     430 │     517 │     638 │     789 │    1091 │   18682 │    2926 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Operations *                               │     966 │     997 │    1076 │    1101 │    1182 │    1280 │   10230 │    1977 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks *                                    │     102 │     439 │     534 │     668 │     815 │    1143 │    1585 │    2875 │
╘════════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛

Memory (resident peak)
╒════════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                   │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞════════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:ActorBasedTaskCache (M)                    │      10 │      13 │      14 │      14 │      14 │      14 │      14 │    2736 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:MutexBasedTaskCache (M)                    │      10 │      15 │      16 │      16 │      16 │      16 │      16 │    2805 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:OSAllocatedUnfairLockBasedTaskCache (M)    │      10 │      16 │      16 │      16 │      17 │      17 │      17 │    2926 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Operations (M)                             │      11 │      19 │      21 │      22 │      22 │      23 │      23 │    1977 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks (M)                                  │      10 │      15 │      15 │      15 │      15 │      16 │      16 │    2875 │
╘════════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛

Throughput (# / s)
╒════════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                   │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞════════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:ActorBasedTaskCache (#)                    │    5232 │    4093 │    3927 │    3743 │    3513 │    2587 │    1580 │    2736 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:MutexBasedTaskCache (#)                    │    6041 │    4887 │    4563 │    4183 │    3755 │    2933 │    1220 │    2805 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:OSAllocatedUnfairLockBasedTaskCache (#)    │    7059 │    5559 │    5095 │    4651 │    4255 │    3379 │     362 │    2926 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Operations (#)                             │    4667 │    3417 │    3073 │    2701 │    2343 │    1745 │    1382 │    1977 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks (#)                                  │    5903 │    4459 │    4175 │    3935 │    3657 │    3007 │    1102 │    2875 │
╘════════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛

Time (total CPU)
╒════════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                   │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞════════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:ActorBasedTaskCache (μs) *                 │     262 │     357 │     381 │     407 │     444 │     607 │     901 │    2736 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:MutexBasedTaskCache (μs) *                 │     229 │     326 │     358 │     394 │     446 │     605 │     850 │    2805 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:OSAllocatedUnfairLockBasedTaskCache (μs) * │     201 │     281 │     312 │     343 │     388 │     496 │     721 │    2926 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Operations (μs) *                          │     343 │     507 │     575 │     669 │     785 │    1084 │    1457 │    1977 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks (μs) *                               │     219 │     334 │     366 │     397 │     436 │     539 │     724 │    2875 │
╘════════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛

Time (wall clock)
╒════════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                   │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞════════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:ActorBasedTaskCache (μs) *                 │     191 │     244 │     255 │     267 │     285 │     387 │     633 │    2736 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:MutexBasedTaskCache (μs) *                 │     166 │     205 │     219 │     239 │     266 │     341 │     819 │    2805 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:OSAllocatedUnfairLockBasedTaskCache (μs) * │     142 │     180 │     196 │     215 │     235 │     296 │    2764 │    2926 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Operations (μs) *                          │     214 │     293 │     326 │     370 │     427 │     573 │     724 │    1977 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks (μs) *                               │     169 │     224 │     240 │     254 │     274 │     333 │     907 │    2875 │
╘════════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛
```
