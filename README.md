# Parallel DAG computation methods

Here are the results from one run of `swift package benchmark --grouping metric`:

```
╒═══════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                  │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞═══════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:Operations (K) *                          │    2995 │    3531 │    3838 │    4198 │    4579 │    5071 │    5936 │    2110 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithActor (K) *                  │     459 │     504 │     525 │     801 │     890 │    1057 │    1525 │    6064 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithMutex (K) *                  │     245 │     253 │     255 │     258 │     366 │     561 │     819 │    6999 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithOSAllocatedUnfairLock (K) *  │     205 │     239 │     244 │     250 │     264 │     333 │     542 │    8130 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks (K) *                               │    1637 │    2343 │    2503 │    2642 │    2757 │    2949 │    3259 │    2913 │
╘═══════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛

Malloc (total)
╒═══════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                  │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞═══════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:Operations *                              │     964 │     999 │    1080 │    1103 │    1185 │    1281 │   11727 │    2110 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithActor *                      │      21 │      80 │      93 │     107 │     122 │     165 │     253 │    6064 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithMutex *                      │       4 │      62 │      62 │      62 │      62 │      80 │     127 │    6999 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithOSAllocatedUnfairLock *      │       4 │      60 │      60 │      60 │      60 │      71 │      99 │    8130 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks *                                   │     112 │     431 │     527 │     665 │     831 │    1200 │    1820 │    2913 │
╘═══════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛

Memory (resident peak)
╒═══════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                  │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞═══════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:Operations (M)                            │      11 │      18 │      19 │      20 │      22 │      22 │      22 │    2110 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithActor (M)                    │      10 │      13 │      13 │      14 │      14 │      14 │      14 │    6064 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithMutex (M)                    │      10 │      14 │      14 │      15 │      15 │      15 │      15 │    6999 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithOSAllocatedUnfairLock (M)    │      10 │      12 │      12 │      13 │      13 │      13 │      13 │    8130 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks (M)                                 │      10 │      14 │      14 │      15 │      15 │      15 │      15 │    2913 │
╘═══════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛

Throughput (# / s)
╒═══════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                  │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞═══════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:Operations (#)                            │    4545 │    3667 │    3269 │    2877 │    2537 │    1827 │    1369 │    2110 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithActor (K)                    │      16 │      15 │      15 │      11 │      11 │       8 │       5 │    6064 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithMutex (K)                    │      36 │      34 │      34 │      33 │      26 │      17 │       5 │    6999 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithOSAllocatedUnfairLock (K)    │      42 │      40 │      39 │      35 │      33 │      26 │       6 │    8130 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks (#)                                 │    5807 │    4351 │    4171 │    3979 │    3763 │    3183 │     907 │    2913 │
╘═══════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛

Time (total CPU)
╒═══════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                  │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞═══════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:Operations (μs) *                         │     326 │     473 │     533 │     634 │     740 │    1051 │    1550 │    2110 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithActor (μs) *                 │      71 │      79 │      85 │     122 │     132 │     172 │     303 │    6064 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithMutex (μs) *                 │      33 │      35 │      35 │      37 │      63 │     113 │     346 │    6999 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithOSAllocatedUnfairLock (μs) * │      29 │      35 │      36 │      40 │      46 │      68 │     184 │    8130 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks (μs) *                              │     238 │     348 │     372 │     399 │     426 │     514 │     650 │    2913 │
╘═══════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛

Time (wall clock)
╒═══════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                  │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞═══════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:Operations (μs) *                         │     220 │     273 │     306 │     348 │     394 │     547 │     730 │    2110 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithActor (μs) *                 │      62 │      65 │      68 │      89 │      94 │     126 │     206 │    6064 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithMutex (μs) *                 │      28 │      29 │      30 │      30 │      39 │      58 │     222 │    6999 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithOSAllocatedUnfairLock (μs) * │      24 │      25 │      26 │      28 │      31 │      39 │     171 │    8130 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks (μs) *                              │     172 │     230 │     240 │     251 │     266 │     314 │    1103 │    2913 │
╘═══════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛
```
