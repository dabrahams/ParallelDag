# Parallel DAG computation methods

Here are the results from one run of `swift package benchmark --grouping metric`:

```
╒════════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                   │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞════════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:ActorBasedTaskCache (K) *                  │    1758 │    2466 │    2619 │    2781 │    2925 │    3189 │    3423 │    2719 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:GCDBasedTaskCache (K) *                    │    3879 │    4538 │    4854 │    5140 │    5411 │    5771 │    6578 │    1584 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:MutexBasedTaskCache (K) *                  │    1493 │    2042 │    2222 │    2408 │    2591 │    3017 │    3914 │    2807 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:OSAllocatedUnfairLockBasedTaskCache (K) *  │    1274 │    1814 │    1961 │    2134 │    2296 │    2634 │    2913 │    3071 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Operations (K) *                           │    2992 │    3652 │    3930 │    4276 │    4657 │    5304 │    5886 │    1926 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks (K) *                                │    1646 │    2236 │    2413 │    2585 │    2710 │    2910 │    3126 │    2844 │
╘════════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛

Malloc (total)
╒════════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                   │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞════════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:ActorBasedTaskCache *                      │     310 │     632 │     727 │     833 │     975 │    1261 │    1681 │    2719 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:GCDBasedTaskCache *                        │     518 │    1589 │    1951 │    2509 │    3169 │    4963 │    6454 │    1584 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:MutexBasedTaskCache *                      │     202 │     430 │     521 │     642 │     773 │    1142 │    1659 │    2807 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:OSAllocatedUnfairLockBasedTaskCache *      │      97 │     429 │     516 │     634 │     788 │    1098 │   19073 │    3071 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Operations *                               │     970 │     992 │    1075 │    1100 │    1177 │    1276 │    1373 │    1926 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks *                                    │      91 │     432 │     528 │     664 │     817 │    1182 │   18781 │    2844 │
╘════════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛

Memory (resident peak)
╒════════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                   │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞════════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:ActorBasedTaskCache (M)                    │      10 │      14 │      14 │      14 │      14 │      14 │      14 │    2719 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:GCDBasedTaskCache (M)                      │      10 │      16 │      17 │      17 │      17 │      17 │      17 │    1584 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:MutexBasedTaskCache (M)                    │      10 │      14 │      15 │      16 │      17 │      17 │      17 │    2807 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:OSAllocatedUnfairLockBasedTaskCache (M)    │      10 │      14 │      16 │      16 │      16 │      17 │      17 │    3071 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Operations (M)                             │      11 │      20 │      21 │      22 │      23 │      23 │      23 │    1926 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks (M)                                  │      10 │      14 │      15 │      15 │      15 │      15 │      15 │    2844 │
╘════════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛

Throughput (# / s)
╒════════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                   │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞════════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:ActorBasedTaskCache (#)                    │    5335 │    4123 │    3949 │    3767 │    3495 │    2091 │     599 │    2719 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:GCDBasedTaskCache (#)                      │    3105 │    2475 │    2079 │    1841 │    1713 │    1435 │    1000 │    1584 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:MutexBasedTaskCache (#)                    │    6550 │    4987 │    4599 │    4183 │    3797 │    2977 │     891 │    2807 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:OSAllocatedUnfairLockBasedTaskCache (#)    │    7214 │    5675 │    5231 │    4691 │    4267 │    3471 │     214 │    3071 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Operations (#)                             │    4516 │    3395 │    3029 │    2657 │    2297 │    1742 │    1194 │    1926 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks (#)                                  │    5701 │    4395 │    4143 │    3917 │    3667 │    2915 │     181 │    2844 │
╘════════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛

Time (total CPU)
╒════════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                   │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞════════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:ActorBasedTaskCache (μs) *                 │     268 │     357 │     381 │     409 │     447 │     573 │     846 │    2719 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:GCDBasedTaskCache (μs) *                   │     422 │     578 │     676 │     760 │     834 │    1006 │    1489 │    1584 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:MutexBasedTaskCache (μs) *                 │     205 │     316 │     351 │     392 │     440 │     572 │     926 │    2807 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:OSAllocatedUnfairLockBasedTaskCache (μs) * │     183 │     279 │     310 │     347 │     387 │     493 │     687 │    3071 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Operations (μs) *                          │     318 │     509 │     578 │     685 │     813 │    1140 │    1559 │    1926 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks (μs) *                               │     218 │     342 │     369 │     399 │     434 │     528 │     700 │    2844 │
╘════════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛

Time (wall clock)
╒════════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                   │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞════════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:ActorBasedTaskCache (μs) *                 │     187 │     243 │     253 │     266 │     286 │     478 │    1669 │    2719 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:GCDBasedTaskCache (μs) *                   │     322 │     404 │     481 │     543 │     584 │     697 │    1000 │    1584 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:MutexBasedTaskCache (μs) *                 │     153 │     201 │     217 │     239 │     263 │     336 │    1122 │    2807 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:OSAllocatedUnfairLockBasedTaskCache (μs) * │     139 │     176 │     191 │     213 │     235 │     288 │    4672 │    3071 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Operations (μs) *                          │     221 │     295 │     330 │     377 │     435 │     574 │     838 │    1926 │
├────────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks (μs) *                               │     175 │     228 │     242 │     255 │     273 │     343 │    5510 │    2844 │
╘════════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛
```
