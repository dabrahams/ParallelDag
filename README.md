# Parallel DAG computation methods

Here are the results from one run of `swift package benchmark --grouping metric`:

```
Instructions
╒═══════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                  │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞═══════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:Operations (K) *                          │    2940 │    3656 │    3965 │    4362 │    4682 │    5263 │    5771 │    1800 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithActor (K) *                  │     444 │     507 │     525 │     804 │     931 │    1445 │    1703 │    5605 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithMutex (K) *                  │     248 │     257 │     260 │     272 │     397 │     580 │     921 │    6698 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithOSAllocatedUnfairLock (K) *  │     203 │     210 │     213 │     226 │     267 │     449 │     886 │    6897 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks (K) *                               │    1619 │    2343 │    2509 │    2658 │    2796 │    3009 │    3317 │    2841 │
╘═══════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛

Malloc (total)
╒═══════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                  │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞═══════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:Operations *                              │     958 │     985 │    1073 │    1093 │    1177 │    1270 │    1304 │    1800 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithActor *                      │      15 │      75 │      88 │     109 │     136 │     204 │     511 │    5605 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithMutex *                      │       1 │      62 │      62 │      62 │      62 │      80 │     102 │    6698 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithOSAllocatedUnfairLock *      │       2 │      60 │      60 │      60 │      60 │      74 │     105 │    6897 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks *                                   │     178 │     431 │     532 │     673 │     839 │    1217 │    1890 │    2841 │
╘═══════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛

Memory (resident peak)
╒═══════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                  │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞═══════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:Operations (M)                            │      11 │      18 │      21 │      24 │      24 │      25 │      25 │    1800 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithActor (M)                    │      10 │      13 │      14 │      14 │      14 │      14 │      14 │    5605 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithMutex (M)                    │      10 │      15 │      15 │      15 │      16 │      16 │      16 │    6698 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithOSAllocatedUnfairLock (M)    │       9 │      14 │      15 │      16 │      16 │      16 │      16 │    6897 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks (M)                                 │      10 │      15 │      15 │      15 │      15 │      15 │      15 │    2841 │
╘═══════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛

Throughput (# / s)
╒═══════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                  │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞═══════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:Operations (#)                            │    4696 │    3373 │    2891 │    2387 │    1912 │    1385 │    1069 │    1800 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithActor (K)                    │      16 │      15 │      14 │      11 │       9 │       6 │       1 │    5605 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithMutex (K)                    │      34 │      33 │      32 │      30 │      22 │      13 │       6 │    6698 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithOSAllocatedUnfairLock (K)    │      42 │      41 │      40 │      37 │      32 │      19 │       8 │    6897 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks (#)                                 │    5779 │    4359 │    4163 │    3961 │    3717 │    2879 │     296 │    2841 │
╘═══════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛

Time (total CPU)
╒═══════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                  │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞═══════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:Operations (μs) *                         │     362 │     518 │     617 │     762 │     982 │    1318 │    1828 │    1800 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithActor (μs) *                 │      68 │      81 │      89 │     129 │     152 │     244 │     370 │    5605 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithMutex (μs) *                 │      35 │      36 │      37 │      42 │      75 │     152 │     312 │    6698 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithOSAllocatedUnfairLock (μs) * │      29 │      30 │      31 │      36 │      49 │     101 │     286 │    6897 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks (μs) *                              │     240 │     348 │     374 │     402 │     434 │     530 │     726 │    2841 │
╘═══════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛

Time (wall clock)
╒═══════════════════════════════════════════════════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╤═════════╕
│ Test                                                  │      p0 │     p25 │     p50 │     p75 │     p90 │     p99 │    p100 │ Samples │
╞═══════════════════════════════════════════════════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╪═════════╡
│ ParallelDAG:Operations (μs) *                         │     213 │     297 │     346 │     419 │     523 │     711 │     936 │    1800 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithActor (μs) *                 │      62 │      66 │      69 │      93 │     107 │     167 │    1027 │    5605 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithMutex (μs) *                 │      29 │      30 │      31 │      34 │      46 │      77 │     176 │    6698 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:TaskGroupWithOSAllocatedUnfairLock (μs) * │      24 │      25 │      25 │      27 │      32 │      53 │     126 │    6897 │
├───────────────────────────────────────────────────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ ParallelDAG:Tasks (μs) *                              │     173 │     230 │     240 │     253 │     269 │     347 │    3375 │    2841 │
╘═══════════════════════════════════════════════════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╧═════════╛
```
